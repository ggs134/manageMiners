{% extends "layout.html" %}

{% block body %}

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            {% for num in machines %}
            <li><a href="{{url_for('log')}}/{{num}}">{{num}}ë§ˆì´ë„ˆë¡œê·¸</a></li>
              {% if num == 14 or num == 12%}
                <li>-----------------------</li>
              {% endif %}
            {% endfor %}
          </ul>
          <!-- <ul class="nav nav-sidebar">
            <li><a href="http://bootstrapk.com/examples/dashboard/">Nav item</a></li>
            <li><a href="http://bootstrapk.com/examples/dashboard/">Nav item again</a></li>
            <li><a href="http://bootstrapk.com/examples/dashboard/">One more nav</a></li>
            <li><a href="http://bootstrapk.com/examples/dashboard/">Another nav item</a></li>
            <li><a href="http://bootstrapk.com/examples/dashboard/">More navigation</a></li>
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="http://bootstrapk.com/examples/dashboard/">Nav item again</a></li>
            <li><a href="http://bootstrapk.com/examples/dashboard/">One more nav</a></li>
            <li><a href="http://bootstrapk.com/examples/dashboard/">Another nav item</a></li>
          </ul> -->
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          {% if targetNum %}
              <h1 class="page-header">ê³¨ë“œëŸ¬ì‹œ {{targetNum}}ë²ˆ ë§ˆì´ë„ˆ
                <div class="btn-group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ë§ˆì´ë„ˆì„ íƒ <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                  {% for num in machines %}
                  <li><a href="{{url_for('log')}}/{{num}}">ë§ˆì´ë„ˆ{{num}}</a></li>
                    {% if num == 14 or num == 12%}
                    <li role="separator" class="divider"></li>
                    {% endif %}
                  {% endfor %}
                </ul>
              </div>
              <a class="btn btn-default" href="{{url_for('log')}}/{{targetNum}}" role="button">ìƒˆë¡œê³ ì¹¨</a>
              <a class="btn btn-danger reboot" id="button{{targetNum}}" role="button">ì¬ë¶€íŒ…</a>
              <!-- <a class="btn btn-default" href="{{url_for('log', )}}/{{targetNum}}" role="button">ìƒˆë¡œê³ ì¹¨</a> -->
            </h1>
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>

                  </th>
                    <!-- <th>ë¡œê·¸ì •ë³´</th> -->
                  </tr>
                </thead>
                  <ul>
                    <li>ë‚´ìš© ì¤‘ "Mining on PoWhash #c7b4bde3 : 119.54MH/s A48+1:R0+0:F0]" ê°™ì€ ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ ì •ìƒì…ë‹ˆë‹¤.</li>
                    <li>ë‚´ìš© ì¤‘ "incorrect" í˜¹ì€ "stale" í˜¹ì€ ë¡œê·¸ ì•ì— Xí‘œì‹œ ìˆìœ¼ë©´ ë¹„ì •ìƒ. ì¬ì‹œì‘ì´ í•„ìš”í•©ë‹ˆë‹¤.</li>
                    <li>2ë²ˆ,9ë²ˆì€ ë¡œê·¸ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. íŒ€ë·°ì–´ë¡œ ì ‘ì†í•´ì•¼í•©ë‹ˆë‹¤.</li>
                    <li>ë‚´ìš© ì¤‘ "nodename nor servname provided, or not known"ì€ ì§ì ‘ ì¬ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.(2,9ì œì™¸)</li>
                    <li>ë‚´ìš© ì¤‘ "[Errno 51] Network is unreachable"ì€ ì§ì ‘ ì¬ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.(2,9ì œì™¸)</li>
                  </ul>
                <tbody>
                  {% for res in results %}
                  <tr class={{num}}>
                    <td>{{res}}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          {% else %}
            <h1 class="page-header">ê³¨ë“œëŸ¬ì‹œ ë¡œê·¸ë³´ë“œ
              <div class="btn-group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ë§ˆì´ë„ˆì„ íƒ <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                  {% for num in machines %}
                  <li><a href="{{url_for('log')}}/{{num}}">ë§ˆì´ë„ˆ{{num}}</a></li>
                    {% if num == 14 or num == 12%}
                    <li role="separator" class="divider"></li>
                    {% endif %}
                  {% endfor %}
                </ul>
              </div>
            </h1>

              <ul>
                <li>ë¡œê·¸ ì¤‘ "Mining on PoWhash #c7b4bde3 : 119.54MH/s A48+1:R0+0:F0]" ê°™ì€ ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ ì •ìƒì…ë‹ˆë‹¤.</li>
                <li>ë¡œê·¸ ì¤‘ "incorrect" í˜¹ì€ "stale" í˜¹ì€ ë¡œê·¸ ì•ì— Xí‘œì‹œ ìˆìœ¼ë©´ ë¹„ì •ìƒ. ì¬ì‹œì‘ì´ í•„ìš”í•©ë‹ˆë‹¤.</li>
                <li>2ë²ˆ,9ë²ˆì€ ë¡œê·¸ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. íŒ€ë·°ì–´ë¡œ ì ‘ì†í•´ì•¼í•©ë‹ˆë‹¤.</li>
                <li>ë¡œê·¸ ì¤‘ "nodename nor servname provided, or not known"ì€ ì§ì ‘ ì¬ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.(2,9ì œì™¸)</li>
                <li>ë‚´ìš© ì¤‘ "[Errno 51] Network is unreachable"ì€ ì§ì ‘ ì¬ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.(2,9ì œì™¸)</li>
              </ul>
          {% endif %}
          <!-- <h1 class="page-header">{{targetNum}}ë²ˆ ë§ˆì´ë„ˆ ë¡œê·¸ê¸°ë¡</h1> -->


        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="{{url_for('static', filename='jquery.min.js')}}" ></script>
    <script src="{{url_for('static', filename='bootstrap.min.js')}}" ></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="{{url_for('static', filename='holder.js')}}" ></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{{url_for('static', filename='ie10-viewport-bug-workaround.js')}}" ></script>
    <!-- socketio  -->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
    $(document).ready(function(){
      var namespac = '/reset';
      var socketReboot = io.connect('http://' + document.domain + ':' + location.port + namespac);

      //ë²„íŠ¼ í´ë¦­ì‹œ ì‹¤í–‰
      $(".reboot").click(function(){

        var id = $(this).attr('id');
        var result = confirm(id.substring(6)+"ë²ˆ ë§ˆì´ë„ˆë¥¼ ì¬ì‹œì‘ í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì¬ì‹œì‘ ì „ ë¡œê·¸ í™•ì¸ í•„ìˆ˜!!");
        if(result == true){
          // var socket = io.connect('http://' + document.domain + ':' + location.port + namespac);
          socketReboot.emit('message', {data: id});
        }else{
          return;
        };
      });

      // íŒì—…ë©”ì‹œì§€
      socketReboot.on("reboot result", function(msg){
      bootstrap_alert = function () {};
      bootstrap_alert.warning = function (message, alert, timeout) {
        $('<div id="floating_alert" class="alert alert-' + alert +
        ' fade in"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>'
         + message + '&nbsp;&nbsp;</div>').appendTo('body');
           setTimeout(function () {
             $(".alert").alert('close');
           }, timeout);
        };
        console.log("socket on!");
        bootstrap_alert.warning(msg.data, 'success', 8000);
      });
    });

    </script>



<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200" preserveAspectRatio="none" style="visibility: hidden; position: absolute; top: -100%; left: -100%;"><defs></defs><text x="0" y="10" style="font-weight:bold;font-size:10pt;font-family:Arial, Helvetica, Open Sans, sans-serif;dominant-baseline:middle">200x200</text></svg>
{% endblock %}
</html>
